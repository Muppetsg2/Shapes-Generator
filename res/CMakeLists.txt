if(WIN32)
	set(CMAKE_AUTORCC ON)
endif()

# Search for the assets files
file(GLOB_RECURSE RAW_ASSETS_FILES CONFIGURE_DEPENDS "*.*")
list(FILTER RAW_ASSETS_FILES EXCLUDE REGEX ".*\\.rc$")
list(FILTER RAW_ASSETS_FILES EXCLUDE REGEX ".*\\.ico$")
list(FILTER RAW_ASSETS_FILES EXCLUDE REGEX ".*\\.icns$")

set_source_files_properties(${RAW_ASSETS_FILES} PROPERTIES HEADER_FILE_ONLY TRUE)

if(WIN32)
    set(RC_FILE ${CMAKE_CURRENT_SOURCE_DIR}/${PROJECT_NAME}.rc)
	set(ICO_FILE ${CMAKE_CURRENT_SOURCE_DIR}/icon.ico)
	set_source_files_properties(${ICO_FILE} PROPERTIES HEADER_FILE_ONLY TRUE)
    list(APPEND RAW_ASSETS_FILES ${RC_FILE} ${ICO_FILE})
elseif(APPLE)
	set(MACOSX_BUNDLE_ICON_FILE icon.icns)
	set(MACOSX_ICON_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/${MACOSX_BUNDLE_ICON_FILE} PARENT_SCOPE)
	set_source_files_properties(${MACOSX_ICON_LOCATION} PROPERTIES MACOSX_PACKAGE_LOCATION "Resources")
	list(APPEND RAW_ASSETS_FILES ${MACOSX_ICON_LOCATION})
endif()

set(ASSETS_FILES ${RAW_ASSETS_FILES} PARENT_SCOPE)